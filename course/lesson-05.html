<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lesson 05 â€” Data Flow & Field Mapping | Zoho+Moodle Course</title>
  <link rel="stylesheet" href="shared.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" />
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo"><span>Z+M</span> Integration Course</div>
      <div class="sidebar-subtitle">Ø¯ÙˆØ±Ø© ØªÙƒØ§Ù…Ù„ Zoho + Moodle</div>
    </div>
    <nav class="sidebar-nav" id="sidebar-nav"></nav>
  </aside>

  <main class="main-content">
    <header class="lesson-header">
      <div class="lesson-breadcrumb">Course Home â†’ Lesson 05</div>
      <div class="lesson-number">Lesson 05</div>
      <div class="lesson-title-en">Data Flow & Field Mapping</div>
      <div class="lesson-title-ar">ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„</div>
      <div class="lesson-meta">
        <span>ğŸ• ~45 minutes</span>
        <span>ğŸ¯ Intermediate</span>
        <span>ğŸ§© 3 Quiz Questions</span>
      </div>
    </header>

    <div class="lesson-body">

      <div class="objectives">
        <div class="objectives-title">ğŸ¯ Learning Objectives â€” Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø¯Ø±Ø³</div>
        <ul>
          <li>Understand the complete data pipeline from Zoho â†’ DB â†’ Moodle</li>
          <li>Read and modify the <code>FIELD_MAPPINGS</code> dictionary</li>
          <li>Understand how <code>transform_zoho_to_moodle()</code> works</li>
          <li>Implement idempotency with data hashing</li>
          <li>Trace a real webhook event through the entire system</li>
        </ul>
      </div>

      <!-- COMPLETE PIPELINE -->
      <div class="section">
        <div class="section-title">1. The Complete Integration Pipeline</div>
        <div class="section-title-ar">Ø®Ø· Ø§Ù„Ø£Ù†Ø§Ø¨ÙŠØ¨ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„ØªÙƒØ§Ù…Ù„</div>
        <div class="section-divider"></div>

        <div class="arch-diagram">
          <div class="arch-title">End-to-End Data Flow</div>
          <div class="arch-item level-0">â‘  Zoho CRM â€” Record changes (Student, Registration, Grade, ...)</div>
          <div class="arch-item level-1">â†“ HTTP POST webhook to our FastAPI server</div>
          <div class="arch-item level-1">â‘¡ FastAPI â€” <code>POST /api/v1/webhooks/students</code></div>
          <div class="arch-item level-2">â†’ <code>read_zoho_body(request)</code> â€” parse raw body</div>
          <div class="arch-item level-2">â†’ <code>resolve_zoho_payload(raw, module)</code> â€” normalize format</div>
          <div class="arch-item level-2">â†’ <code>fetch_zoho_full_record(module, zoho_id)</code> â€” get complete record</div>
          <div class="arch-item level-2">â†’ <code>transform_zoho_to_moodle(record, mappings)</code> â€” map fields</div>
          <div class="arch-item level-1">â‘¢ SQLite / PostgreSQL â€” <code>db.merge()</code> upsert</div>
          <div class="arch-item level-1">â†“ sync_status = "pending_moodle"</div>
          <div class="arch-item level-1">â‘£ <code>call_moodle_ws("local_zoho_sync_update_user", ...)</code></div>
          <div class="arch-item level-1">â‘¤ Moodle PHP â€” <code>update_user::execute()</code></div>
          <div class="arch-item level-2">â†’ <code>user_update_user($update)</code> in Moodle DB</div>
          <div class="arch-item level-1">â†“ HTTP 200 JSON response back to FastAPI</div>
          <div class="arch-item level-1">â‘¥ FastAPI â€” <code>sync_status = "synced"</code>, commit DB</div>
        </div>
      </div>

      <!-- FIELD MAPPINGS -->
      <div class="section">
        <div class="section-title">2. The FIELD_MAPPINGS Dictionary</div>
        <div class="section-title-ar">Ù‚Ø§Ù…ÙˆØ³ <code class="inline">FIELD_MAPPINGS</code></div>
        <div class="section-divider"></div>

        <div class="bilingual">
          <div class="lang-en">
            <span class="lang-badge en">English</span>
            <p>The <code>FIELD_MAPPINGS</code> dictionary tells the system how to rename Zoho field names to our database column names. Keys are Zoho API field names. Values are our database/Moodle column names.</p>
          </div>
          <div class="lang-ar">
            <span class="lang-badge ar">Ø¹Ø±Ø¨ÙŠ</span>
            <p>Ù‚Ø§Ù…ÙˆØ³ <code>FIELD_MAPPINGS</code> ÙŠÙØ®Ø¨Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒÙŠÙÙŠØ© ØªØ³Ù…ÙŠØ© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ù† Zoho Ø¥Ù„Ù‰ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙ†Ø§. Ø§Ù„Ù…ÙØ§ØªÙŠØ­ = Ø£Ø³Ù…Ø§Ø¡ Ø­Ù‚ÙˆÙ„ Zoho. Ø§Ù„Ù‚ÙŠÙ… = Ø£Ø³Ù…Ø§Ø¡ Ø£Ø¹Ù…Ø¯ØªÙ†Ø§.</p>
          </div>
        </div>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">python</span>
            <span class="code-filename">backend/app/api/v1/endpoints/webhooks_shared.py â€” FIELD_MAPPINGS</span>
            <button class="copy-btn">Copy</button>
          </div>
          <pre><code class="language-python"># â”€â”€ FIELD_MAPPINGS: Zoho field name â†’ Our DB column name â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Structure:
#   FIELD_MAPPINGS[entity][zoho_api_field_name] = our_db_column_name
#
# Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³:
#   Ø§Ù„ÙƒÙŠØ§Ù† â†’ {Ø§Ø³Ù… Ø­Ù‚Ù„ Zoho â†’ Ø§Ø³Ù… Ø¹Ù…ÙˆØ¯ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙ†Ø§}

FIELD_MAPPINGS = {

    "students": {
        # Zoho field name       : Our DB column name
        "id"                    : "zoho_id",
        "Name"                  : "display_name",
        "Email"                 : "academic_email",
        "Mobile"                : "phone",
        "Date_of_Birth"         : "birth_date",
        "Mailing_City"          : "city",
        "Mailing_Country"       : "country",
        "Record_Image"          : "record_image",
        "Student_Status"        : "status",
        "Moodle_User_ID"        : "moodle_user_id",
    },

    "registrations": {
        "id"                    : "zoho_id",
        "Name"                  : "registration_name",
        "Student_Name"          : "student_zoho_id",    # Lookup â†’ ID
        "Program_Name"          : "program_zoho_id",    # Lookup â†’ ID
        "Enrollment_Status"     : "enrollment_status",
        "Registration_Date"     : "registration_date",
        "Completion_Date"       : "completion_date",
        "Total_Fees"            : "total_fees",
    },

    "grades": {
        "id"                    : "zoho_id",
        "Student_Name"          : "student_zoho_id",
        "Unit_Name"             : "unit_zoho_id",
        "Grade"                 : "grade_value",
        "Grade_Date"            : "grade_date",
        "Pass_Fail"             : "pass_fail",
        "Attempt_Number"        : "attempt_number",
    },

    "payments": {
        "id"                    : "zoho_id",
        "Student_Name"          : "student_zoho_id",
        "Registration_Name"     : "registration_zoho_id",
        "Payment_Amount"        : "amount",
        "Payment_Date"          : "payment_date",
        "Payment_Status"        : "payment_status",
        "Payment_Method"        : "payment_method",
    },

    # ... enrollments, classes, programs, units
}</code></pre>
        </div>

        <div class="callout info">
          <div class="callout-icon">ğŸ’¡</div>
          <div class="callout-content">
            <div class="callout-title">Finding Zoho Field API Names</div>
            <p>In Zoho CRM â†’ Settings â†’ Modules â†’ [Module] â†’ Fields, each field shows its "API Name". This is what the webhook and REST API use. It's different from the display label. For example, a field labeled "Student Name" might have the API name <code>Student_Name</code> or <code>Name</code>.</p>
            <div class="callout-ar">ÙÙŠ Zoho CRM â†’ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª â†’ Ø§Ù„ÙˆØ­Ø¯Ø§Øª â†’ Ø§Ù„Ø­Ù‚ÙˆÙ„ØŒ ÙƒÙ„ Ø­Ù‚Ù„ ÙŠÙØ¸Ù‡Ø± "API Name". Ù‡Ø°Ø§ Ù‡Ùˆ Ù…Ø§ ØªØ³ØªØ®Ø¯Ù…Ù‡ Ø§Ù„Ù€ webhook ÙˆAPI. ÙŠØ®ØªÙ„Ù Ø¹Ù† Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶.</div>
          </div>
        </div>
      </div>

      <!-- TRANSFORM FUNCTION -->
      <div class="section">
        <div class="section-title">3. The transform_zoho_to_moodle() Function</div>
        <div class="section-title-ar">Ø¯Ø§Ù„Ø© <code class="inline">transform_zoho_to_moodle()</code></div>
        <div class="section-divider"></div>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">python</span>
            <span class="code-filename">backend/app/api/v1/endpoints/webhooks_shared.py â€” transform function</span>
            <button class="copy-btn">Copy</button>
          </div>
          <pre><code class="language-python">def transform_zoho_to_moodle(zoho_record: dict, mappings: dict) -> dict:
    """
    Apply field name mappings to convert a Zoho record dict
    into a dict of our DB column names.

    ØªØ·Ø¨ÙŠÙ‚ ØªØ¹ÙŠÙŠÙ†Ø§Øª Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù„ØªØ­ÙˆÙŠÙ„ Ø³Ø¬Ù„ Zoho Ø¥Ù„Ù‰ Ø£Ø³Ù…Ø§Ø¡ Ø£Ø¹Ù…Ø¯ØªÙ†Ø§.

    Args:
        zoho_record: Raw dict from Zoho API e.g. {"Name": "Ahmed", "Email": "a@x.com"}
        mappings:    FIELD_MAPPINGS[entity] e.g. {"Name": "display_name", "Email": "academic_email"}

    Returns:
        Mapped dict e.g. {"display_name": "Ahmed", "academic_email": "a@x.com"}

    Example:
        zoho = {"Name": "Ahmed Ali", "Email": "ahmed@school.com", "Mobile": "0599123456"}
        maps = {"Name": "display_name", "Email": "academic_email", "Mobile": "phone"}
        result = transform_zoho_to_moodle(zoho, maps)
        # â†’ {"display_name": "Ahmed Ali", "academic_email": "ahmed@school.com", "phone": "0599123456"}
    """
    result = {}
    for zoho_field, db_column in mappings.items():
        value = zoho_record.get(zoho_field)

        # Handle Zoho "lookup" fields â€” they return a dict with id + name
        # Ù…Ø«Ø§Ù„: {"Student_Name": {"id": "123", "name": "Ahmed"}}
        # Ù†Ø­ØªØ§Ø¬ ÙÙ‚Ø· Ø§Ù„Ù€ id Ù„Ù„Ø±Ø¨Ø·
        if isinstance(value, dict) and "id" in value:
            value = value["id"]   # Store the foreign key ID, not the display name

        # Skip None values to avoid overwriting existing data with nulls
        # ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ÙØ§Ø±ØºØ© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙˆÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù€ null
        if value is not None:
            result[db_column] = value

    return result</code></pre>
        </div>

        <div class="callout success">
          <div class="callout-icon">âœ¨</div>
          <div class="callout-content">
            <div class="callout-title">Handling Zoho Lookup Fields</div>
            <p>When a Zoho field references another module (like "Student Name" on a Registration record referencing a Student), the webhook sends it as a dict: <code>{"id": "student-zoho-id-123", "name": "Ahmed Ali"}</code>. We extract just the <code>"id"</code> because we use it as a foreign key in our DB.</p>
            <div class="callout-ar">Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙØ´ÙŠØ± Ø­Ù‚Ù„ Zoho Ø¥Ù„Ù‰ ÙˆØ­Ø¯Ø© Ø£Ø®Ø±Ù‰ (ÙƒØ§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¹Ù„Ù‰ Ø³Ø¬Ù„ ØªØ³Ø¬ÙŠÙ„)ØŒ ÙŠÙØ±Ø³Ù„Ù‡ Ø§Ù„Ù€ webhook ÙƒÙ€ dict. Ù†Ø³ØªØ®Ø±Ø¬ ÙÙ‚Ø· Ø§Ù„Ù€ <code>"id"</code> Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙƒÙ…ÙØªØ§Ø­ Ø®Ø§Ø±Ø¬ÙŠ.</div>
          </div>
        </div>
      </div>

      <!-- IDEMPOTENCY -->
      <div class="section">
        <div class="section-title">4. Idempotency â€” Avoiding Duplicate Work</div>
        <div class="section-title-ar">Ø§Ù„Ø£Ù…Ø§Ù† Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø± â€” ØªØ¬Ù†Ø¨ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ÙƒØ±Ø±</div>
        <div class="section-divider"></div>

        <div class="code-block">
          <div class="code-header">
            <span class="code-lang">python</span>
            <span class="code-filename">Idempotency with data hashing</span>
            <button class="copy-btn">Copy</button>
          </div>
          <pre><code class="language-python">import hashlib
import json


def compute_data_hash(data: dict) -> str:
    """
    Compute a stable MD5 hash of a dict for idempotency checks.
    Used to skip re-syncing data that hasn't actually changed.

    Ø­Ø³Ø§Ø¨ hash Ù…Ø³ØªÙ‚Ø± Ù„Ù‚Ø§Ù…ÙˆØ³ Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªØ¬Ø§Ù‡Ù„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©.
    """
    # Sort keys to ensure same dict always produces same hash
    serialised = json.dumps(data, sort_keys=True, ensure_ascii=False)
    return hashlib.md5(serialised.encode()).hexdigest()


def should_sync(existing_record, new_data: dict) -> bool:
    """
    Return True if the record needs to be synced (data has changed).
    Return False if the incoming data is identical to what we already have.

    ÙŠÙØ¹ÙŠØ¯ True Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ ØªØºÙŠÙ‘Ø±Øª ÙˆÙŠØ¬Ø¨ Ù…Ø²Ø§Ù…Ù†ØªÙ‡Ø§.
    ÙŠÙØ¹ÙŠØ¯ False Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù…Ø§ Ù„Ø¯ÙŠÙ†Ø§ Ø¨Ø§Ù„ÙØ¹Ù„.
    """
    if existing_record is None:
        return True   # New record, always sync

    new_hash = compute_data_hash(new_data)

    if existing_record.data_hash == new_hash:
        return False  # Data hasn't changed, skip sync
        # Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù… ØªØªØºÙŠØ±ØŒ Ù„Ø§ Ø¯Ø§Ø¹ÙŠ Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©

    return True


# â”€â”€ Usage in webhook handler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ù€ webhook

def process_student_webhook(db, zoho_id: str, mapped_data: dict):
    existing = db.query(Student).filter(Student.zoho_id == zoho_id).first()

    if not should_sync(existing, mapped_data):
        # Identical data â€” no update needed. This is common when Zoho
        # re-sends webhooks on any field change, even unrelated ones.
        # Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© â€” Ø£Ù„ØºÙ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©. Ø´Ø§Ø¦Ø¹ Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙØ¹ÙŠØ¯ Zoho Ø¥Ø±Ø³Ø§Ù„
        # Ø§Ù„Ù€ webhook Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø£ÙŠ Ø­Ù‚Ù„ØŒ Ø­ØªÙ‰ Ø§Ù„Ø­Ù‚ÙˆÙ„ ØºÙŠØ± Ø§Ù„Ù…Ø¹Ù†ÙŠØ©.
        return {"status": "skipped", "reason": "no_change"}

    new_hash = compute_data_hash(mapped_data)
    mapped_data["data_hash"] = new_hash

    if existing:
        for k, v in mapped_data.items():
            setattr(existing, k, v)
    else:
        student = Student(zoho_id=zoho_id, **mapped_data)
        db.add(student)

    db.commit()
    return {"status": "updated"}</code></pre>
        </div>
      </div>

      <!-- QUIZ -->
      <div class="section">
        <div class="section-title">ğŸ§ª Lesson 05 Quiz</div>
        <div class="section-divider"></div>

        <div class="quiz-card">
          <div class="quiz-title">â“ Question 1</div>
          <div class="quiz-question">In <code>FIELD_MAPPINGS</code>, what is the key and what is the value?</div>
          <div class="quiz-question-ar">ÙÙŠ <code>FIELD_MAPPINGS</code>ØŒ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆÙ…Ø§ Ù‡ÙŠ Ø§Ù„Ù‚ÙŠÙ…Ø©ØŸ</div>
          <ul class="quiz-options">
            <li class="quiz-option"><input type="radio" name="q1" data-correct="false"> Key = our DB column name, Value = Zoho API field name</li>
            <li class="quiz-option"><input type="radio" name="q1" data-correct="true"> Key = Zoho API field name, Value = our DB column name</li>
            <li class="quiz-option"><input type="radio" name="q1" data-correct="false"> Key = Moodle WS parameter name, Value = Zoho API field name</li>
            <li class="quiz-option"><input type="radio" name="q1" data-correct="false"> Key = display label, Value = API name</li>
          </ul>
          <div class="quiz-feedback">âœ… Correct! The mapping goes from Zoho â†’ our DB. Key = Zoho's API field name (what arrives in the webhook). Value = our database column name (where we store it).</div>
          <button class="quiz-submit">Submit Answer</button>
        </div>

        <div class="quiz-card">
          <div class="quiz-title">â“ Question 2</div>
          <div class="quiz-question">When <code>transform_zoho_to_moodle()</code> encounters a value like <code>{"id": "abc123", "name": "Ahmed"}</code>, what does it store?</div>
          <div class="quiz-question-ar">Ø¹Ù†Ø¯Ù…Ø§ ØªÙØµØ§Ø¯Ù <code>transform_zoho_to_moodle()</code> Ù‚ÙŠÙ…Ø© Ù…Ø«Ù„ <code>{"id": "abc123", "name": "Ahmed"}</code>ØŒ Ù…Ø§Ø°Ø§ ØªÙØ®Ø²Ù‘Ù†ØŸ</div>
          <ul class="quiz-options">
            <li class="quiz-option"><input type="radio" name="q2" data-correct="false"> The entire dict: <code>{"id": "abc123", "name": "Ahmed"}</code></li>
            <li class="quiz-option"><input type="radio" name="q2" data-correct="false"> The "name" string: <code>"Ahmed"</code></li>
            <li class="quiz-option"><input type="radio" name="q2" data-correct="true"> The "id" string: <code>"abc123"</code></li>
            <li class="quiz-option"><input type="radio" name="q2" data-correct="false"> Nothing â€” lookup fields are ignored</li>
          </ul>
          <div class="quiz-feedback">âœ… Correct! Zoho sends lookup fields as dicts with both "id" and "name". We only store the "id" because that's the foreign key we use in our DB to link records.</div>
          <button class="quiz-submit">Submit Answer</button>
        </div>

        <div class="quiz-card">
          <div class="quiz-title">â“ Question 3</div>
          <div class="quiz-question">What is the purpose of <code>data_hash</code> stored on each DB record?</div>
          <div class="quiz-question-ar">Ù…Ø§ Ø§Ù„ØºØ±Ø¶ Ù…Ù† <code>data_hash</code> Ø§Ù„Ù…Ø®Ø²Ù‘Ù† Ø¹Ù„Ù‰ ÙƒÙ„ Ø³Ø¬Ù„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ</div>
          <ul class="quiz-options">
            <li class="quiz-option"><input type="radio" name="q3" data-correct="false"> To encrypt sensitive data before storing it</li>
            <li class="quiz-option"><input type="radio" name="q3" data-correct="false"> To verify the webhook signature is from Zoho</li>
            <li class="quiz-option"><input type="radio" name="q3" data-correct="true"> To detect if incoming data is identical to what's already stored and skip redundant syncs</li>
            <li class="quiz-option"><input type="radio" name="q3" data-correct="false"> To generate a unique ID for each record</li>
          </ul>
          <div class="quiz-feedback">âœ… Correct! The hash is an MD5 fingerprint of the mapped data. If the incoming webhook produces the same hash as what's already stored, we skip the DB update and Moodle call entirely â€” no unnecessary work.</div>
          <button class="quiz-submit">Submit Answer</button>
        </div>

      </div>
    </div>
    <nav class="lesson-nav" id="lesson-nav"></nav>
  </main>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<script src="course.js"></script>
<script>initLesson(5);</script>
</body>
</html>
